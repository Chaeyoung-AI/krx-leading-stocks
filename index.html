<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KRX 거래대금 상위종목</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>KRX 거래대금 TOP 50</h1>
      <div class="header-info">
        <span id="current-date"></span>
        <span id="updated-at"></span>
      </div>
    </header>

    <!-- Controls -->
    <div class="controls">
      <div class="date-nav">
        <button id="btn-prev" title="이전 날짜">◀</button>
        <select id="date-select"></select>
        <button id="btn-next" title="다음 날짜">▶</button>
      </div>

      <div class="tabs">
        <button class="tab-btn active" data-market="kospi">코스피</button>
        <button class="tab-btn" data-market="kosdaq">코스닥</button>
      </div>

      <div class="search-area">
        <input type="text" id="search-input" placeholder="종목명/태그 검색...">
        <button class="btn" id="btn-memo-mgmt">메모 관리</button>
      </div>
    </div>

    <!-- Table -->
    <div id="table-container">
      <p class="loading">데이터 로딩 중...</p>
    </div>

    <!-- Memo Management Panel -->
    <div id="memo-panel" class="memo-panel hidden">
      <div class="memo-panel-header">
        <h2>메모 관리</h2>
        <div class="memo-actions">
          <button class="btn" id="btn-export">내보내기 (JSON)</button>
          <button class="btn" id="btn-import">가져오기</button>
          <input type="file" id="import-file" accept=".json" class="hidden">
        </div>
      </div>
      <div id="memo-content"></div>
    </div>
  </div>

  <script>
    window.addEventListener('error', e => {
      document.getElementById('table-container').innerHTML =
        '<pre style="color:red">ERROR: ' + e.message + '\n' + (e.filename||'') + ':' + (e.lineno||'') + '</pre>';
    });
    window.addEventListener('unhandledrejection', e => {
      document.getElementById('table-container').innerHTML =
        '<pre style="color:red">PROMISE ERROR: ' + e.reason + '</pre>';
    });
  </script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
